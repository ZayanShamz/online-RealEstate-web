{% extends "design-user.html" %}

{% block title%} {{ dealer[2] }}'s Profile {% endblock %}

{% block body %}

<div class="container py-4 h-100">
	<div class="row justify-content-center align-items-center h-100">
		<div class="col-12 col-xl-6 m-3">
		  <div class="card mt-3">
			 <div class="card-body">
				 <div class="d-flex justify-content-center">
					  <h3 class="mb-4 pb-2 mt-3" style="color:#F45B69;cursor:default;">{{ dealer[2] }}</h3>
				 </div>

				 <div class="row mb-4 px-3">
					<div class="col-md-2 d-flex justify-content-end">
					  <h6 class="text">Age</h6>
					</div>
					<div class="col-md-1 d-flex justify-content-center">
					  <h6 class="text">:</h6>
					</div>
					<div class="col-md-3 text-secondary">
						{{ dealer[8]|int }}
					</div>
					<div class="col-md-2 d-flex justify-content-end">
					  <h6 class="text mt-1">Gender</h6>
					</div>
					<div class="col-md-1 d-flex justify-content-center">
					  <h6 class="text">:</h6>
					</div>
					<div class="col-md-3 text-secondary">
					  {{ dealer[5] }}
					</div>
				 </div>

				 <div class="row mb-4 px-3">
					<div class="col-md-2 d-flex justify-content-end">
					  <h6 class="text">Phone</h6>
					</div>
					<div class="col-md-1 d-flex justify-content-center">
					  <h6 class="text">:</h6>
					</div>
					<div class="col-md-3 text-secondary">
						{{ dealer[4] }}
					</div>
					<div class="col-md-2 d-flex justify-content-end">
					  <h6 class="text mt-1">Email</h6>
					</div>
					<div class="col-md-1 d-flex justify-content-center">
					  <h6 class="text">:</h6>
					</div>
					<div class="col-md-3 text-secondary">
					  <a href="https://mail.google.com/mail/?view=cm&fs=1&to={{ dealer[3] }}.com" target="_blank"
						 title="Open in Gmail" style="text-decoration:none;color:black;">{{ dealer[3] }}</a>
					</div>
				 </div>
				  <hr>
				  <div class="row ">
					<div class="col-sm-4 d-flex justify-content-end">
                       <div onclick="window.location='/userHome'" class="btn btn-outline-secondary">Back</div>
                    </div>
					<div class="col-sm-4 d-flex justify-content-center">
					  <a href="/userEdit" class="btn btn-outline-secondary">Edit</a>
					</div>
					<div class="col-sm-4">
					  <a href="/removeDealer/{{ dealer[1] }}" class="btn btn-outline-danger"
						 onclick="return confirm('Are you sure you want to remove the dealer?');">Delete</a>
					</div>
				  </div>
			 </div>
		  </div>

		  <div class="card mt-3">
			 <div class="card-body">
				 {% if plots %}
				 <div class="row">
					 <h3 class="d-flex justify-content-center">Properties</h3>
				 </div>
				 <div class="row d-flex justify-content-center mb-3">
					<div class="col-md-6 d-flex justify-content-center">
						<a href="/userAddPlot" class="btn btn-outline-secondary" style="width:200px;">Add New Property</a>
                    </div>
					<div class="col-md-6 d-flex justify-content-center">
                        <a href="/userViewRequests/plot/0" class="btn btn-outline-secondary" style="width:200px;">Purchase Requests</a>
                    </div>
				</div>

			 	{% for i in plots %}
				 <div class="card mt-2" onclick="window.location='/userPlot/{{ i[0] }}'">
					<div class="card-body" style="cursor: pointer;">
					  <div class="d-flex flex-column align-items-center text-center">
						<div class="row">
							<b>{{ i[0] }} - {{ i[1] }}</b> <br>
							<span class="text-black-50" title="{{ i[2] }}">{{ i[2] }}</span>
						</div>

					  </div>
					</div>
				 </div>
			 	{% endfor %}
				{% endif %}
			 </div>
		  </div>

		  <div class="card mt-3">
			 <div class="card-body">
				 {% if rentals %}
				 <div class="row">
					 <h3 class="d-flex justify-content-center">Rentals</h3>
				 </div>
				 <div class="row mb-3">
					<div class="col-md-6 d-flex justify-content-center">
						<a href="/userAddRental" class="btn btn-outline-secondary" style="width:200px;">Add New Rental</a>
					</div>
					<div class="col-md-6 d-flex justify-content-center">
						<a href="/userViewRequests/rental/0" class="btn btn-outline-secondary" style="width:200px;">Rental Requests</a>
					</div>
				</div>

			 	{% for i in rentals %}
				 <div class="card my-2" onclick="window.location='/userRental/{{ i[0] }}'">
					<div class="card-body" style="cursor: pointer;">
					  <div class="d-flex flex-column align-items-center text-center">
						<div class="row">
							<div class="d-flex justify-content-between align-items-center my-2 px-3">
								<div class="mx-auto">
									<b>{{ i[0] }} - {{ i[1] }}</b>
								</div>
								{% if i[3] == 'Available' %}
								<span class="text text-success">{{ i[3] }}</span>
								{% else %}
								<span class="text text-danger">{{ i[3] }}</span>
								{% endif %}
								
							</div>
							 <br>
							<span class="text-black-50" title="{{ i[2] }}">{{ i[2] }}</span>
						</div>
					  </div>
					</div>
				 </div>
			 	{% endfor %}
				 
				{% endif %}
			 </div>
		  </div>
		</div>
	</div>
</div>

{% endblock %}
